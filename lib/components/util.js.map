{"version":3,"sources":["../../src/components/util.js"],"names":["toNumber","translate","rotate","scale","perspective","computeWindowScale","css","throttle","getElementFromHash","numeric","fallback","isNaN","Number","data","x","y","z","revert","rX","rotateX","rY","rotateY","rZ","rotateZ","p","config","hScale","window","innerHeight","height","wScale","innerWidth","width","maxScale","minScale","pfx","style","document","createElement","prefixes","split","memory","prop","ucProp","charAt","toUpperCase","substr","props","join","i","undefined","el","key","hasOwnProperty","pkey","fn","delay","timer","context","args","arguments","clearTimeout","setTimeout","apply","stepsData","id","location","hash","replace"],"mappings":"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","file":"util.js","sourcesContent":["export function toNumber( numeric, fallback ) {\n    return isNaN( numeric ) ? ( fallback || 0 ) : Number( numeric );\n}\nexport function translate( data ) {\n    return ' translate3d(' + toNumber(data.x) + 'px, ' + toNumber(data.y) + 'px, ' + toNumber(data.z) + 'px)';\n}\nexport function rotate( data, revert ) {\n    let rX = \" rotateX(\" + toNumber(data.rotateX) + \"deg) \",\n        rY = \" rotateY(\" + toNumber(data.rotateY) + \"deg) \",\n        rZ = \" rotateZ(\" + toNumber(data.rotateZ) + \"deg) \";\n\n    return revert ? rZ + rY + rX : rX + rY + rZ;\n}\nexport function scale( data ) {\n    return ' scale(' + toNumber(data, 1) + ')' ;\n}\nexport function perspective( p ) {\n    return \" perspective(\" + p + \"px) \";\n}\nexport function computeWindowScale( config ) {\n    let hScale = window.innerHeight / config.height,\n        wScale = window.innerWidth / config.width,\n        scale = hScale > wScale ? wScale : hScale;\n\n    if ( config.maxScale && scale > config.maxScale ) {\n        scale = config.maxScale;\n    }\n\n    if ( config.minScale && scale < config.minScale ) {\n        scale = config.minScale;\n    }\n\n    return scale;\n}\nexport const pfx = ( () => {\n    let style = document.createElement( \"dummy\" ).style,\n        prefixes = \"Webkit Moz O ms Khtml\".split( \" \" ),\n        memory = {};\n\n    return ( prop ) => {\n        if ( typeof memory[ prop ] === \"undefined\" ) {\n            let ucProp  = prop.charAt( 0 ).toUpperCase() + prop.substr( 1 ),\n                props   = ( prop + \" \" + prefixes.join( ucProp + \" \" ) + ucProp ).split( \" \" );\n\n            memory[ prop ] = null;\n            for ( let i in props ) {\n                if ( style[ props[ i ] ] !== undefined ) {\n                    memory[ prop ] = props[ i ];\n                    break;\n                }\n            }\n        }\n\n        return memory[ prop ];\n    };\n})();\nexport function css( el, props ) {\n    for ( let key in props ) {\n        if ( props.hasOwnProperty( key ) ) {\n            let pkey = pfx( key );\n            if ( pkey !== null ) {\n                el.style[ pkey ] = props[ key ];\n            }\n        }\n    }\n    return el;\n}\nexport function throttle( fn, delay ) {\n    let timer = null;\n    return function() {\n        let context = this, args = arguments;\n        clearTimeout( timer );\n        timer = setTimeout( function() {\n            fn.apply( context, args );\n        }, delay );\n    };\n}\nexport function getElementFromHash( stepsData ) {\n    let id = window.location.hash.replace( /^#\\/?/, \"\" );\n    return stepsData[ id ];\n}\n"]}